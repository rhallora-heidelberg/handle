

# handle
`import "github.com/rhallora-heidelberg/handle"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)
* [Subdirectories](#pkg-subdirectories)

## <a name="pkg-overview">Overview</a>
Package handle aims to simplify http handler execution paths and make them easier to trace. In the process, it makes
it difficult to commit rare but pernicious mistakes like responding twice to an http request. It does this by
providing the Response type so that http responses can be treated primarily as return values instead of side-effects,
as well as the With function for ease of use. In short, this is like a poorman's IO monad for go.

This package is intended to be small and modular. That is, you can decide whether to use this package or the more
flexible streaming semantics of standard go on a per-route basis. The example directory provides some simple
usage examples to illustrate usage.

Package respondWith is also provided as an optional way to simplify some common types of responses.




## <a name="pkg-index">Index</a>
* [func With(f HandlerFunc) httprouter.Handle](#With)
* [type HandlerFunc](#HandlerFunc)
* [type HeaderOption](#HeaderOption)
* [type PostResponseHook](#PostResponseHook)
* [type Response](#Response)
  * [func (r Response) WithHeaderOptions(opts ...HeaderOption) Response](#Response.WithHeaderOptions)
  * [func (r Response) WithHooks(hooks ...PostResponseHook) Response](#Response.WithHooks)


#### <a name="pkg-files">Package files</a>
[handle.go](/src/github.com/rhallora-heidelberg/handle/handle.go) 





## <a name="With">func</a> [With](/src/target/handle.go?s=2328:2370#L62)
``` go
func With(f HandlerFunc) httprouter.Handle
```
With transforms a function with the signature "func(r *http.Request, ps httprouter.Params) Response" into
an httprouter.Handle.




## <a name="HandlerFunc">type</a> [HandlerFunc](/src/target/handle.go?s=2128:2192#L58)
``` go
type HandlerFunc func(*http.Request, httprouter.Params) Response
```
A HandlerFunc takes in an http request and produces a Response.










## <a name="HeaderOption">type</a> [HeaderOption](/src/target/handle.go?s=1215:1254#L25)
``` go
type HeaderOption func(hdr http.Header)
```
A HeaderOption acts on the http.Header of the http.ResponseWriter.










## <a name="PostResponseHook">type</a> [PostResponseHook](/src/target/handle.go?s=1097:1143#L22)
``` go
type PostResponseHook func(n int64, err error)
```
A PostResponseHook runs at the conclusion of a Response. n and err provide (optional) access to the output of
copying the Response.Body contents to the http.ResponseWriter.










## <a name="Response">type</a> [Response](/src/target/handle.go?s=1374:1506#L28)
``` go
type Response struct {
    StatusCode    int
    Body          io.Reader
    Hooks         []PostResponseHook
    HeaderOptions []HeaderOption
}

```
Response describes how to respond to an http request, and any actions (hooks) which should be performed afterward.










### <a name="Response.WithHeaderOptions">func</a> (Response) [WithHeaderOptions](/src/target/handle.go?s=1858:1924#L47)
``` go
func (r Response) WithHeaderOptions(opts ...HeaderOption) Response
```
WithHeaderOptions attaches the given HeaderOptions to a Response and returns the result.




### <a name="Response.WithHooks">func</a> (Response) [WithHooks](/src/target/handle.go?s=1596:1659#L36)
``` go
func (r Response) WithHooks(hooks ...PostResponseHook) Response
```
WithHooks attaches the given PostResponseHooks to a Response and returns the result.








- - -
Generated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)
